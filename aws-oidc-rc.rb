# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class AwsOidcRc < Formula
  desc "A command line utility tool to help generate AWS STS credentials from an OIDC application."
  homepage "https://github.com/chanzuckerberg/aws-oidc"
  version "0.28.45-21a4300"

  on_macos do
    if Hardware::CPU.arm?
      url "https://github.com/chanzuckerberg/aws-oidc/releases/download/v0.28.45-21a4300/aws-oidc_0.28.45-21a4300_darwin_arm64.tar.gz"
      sha256 "51b7ffc3c97498b81b6e5d6a08526c5b80e740abe9fecaae335fac24a74b0311"

      def install
        bin.install "aws-oidc-rc"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/chanzuckerberg/aws-oidc/releases/download/v0.28.45-21a4300/aws-oidc_0.28.45-21a4300_darwin_amd64.tar.gz"
      sha256 "feeadb95d156262a43151d0f3fd1944773787547d9cc37608f542e2585a5fb49"

      def install
        bin.install "aws-oidc-rc"
      end
    end
  end

  on_linux do
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/chanzuckerberg/aws-oidc/releases/download/v0.28.45-21a4300/aws-oidc_0.28.45-21a4300_linux_arm64.tar.gz"
      sha256 "56373813f2d784cee1e79e0df2f3f8c6edd2865ca1c3015202e45bbc7607a7ef"

      def install
        bin.install "aws-oidc-rc"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/chanzuckerberg/aws-oidc/releases/download/v0.28.45-21a4300/aws-oidc_0.28.45-21a4300_linux_amd64.tar.gz"
      sha256 "8f983e8e0f266e08fa6f4bb89e8756a827a3c1ce55a25b08107c02215a6c4fea"

      def install
        bin.install "aws-oidc-rc"
      end
    end
  end

  test do
    system "#{bin}/aws-oidc version"
  end
end
