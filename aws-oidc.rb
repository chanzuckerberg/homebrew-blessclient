# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class AwsOidc < Formula
  desc "A command line utility tool to help generate AWS STS credentials from an OIDC application."
  homepage "https://github.com/chanzuckerberg/aws-oidc"
  version "0.28.19"

  on_macos do
    if Hardware::CPU.arm?
      url "https://github.com/chanzuckerberg/aws-oidc/releases/download/v0.28.19/aws-oidc_0.28.19_darwin_arm64.tar.gz"
      sha256 "174a2565b8750cdb1e53e5b619c05dba6ca57187f6ccea6f854b36dc2077eaed"

      def install
        bin.install "aws-oidc"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/chanzuckerberg/aws-oidc/releases/download/v0.28.19/aws-oidc_0.28.19_darwin_amd64.tar.gz"
      sha256 "f587e172e82c52423361ea4c4393b02f9c63325752fcc67314e367b62ec7193c"

      def install
        bin.install "aws-oidc"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel?
      url "https://github.com/chanzuckerberg/aws-oidc/releases/download/v0.28.19/aws-oidc_0.28.19_linux_amd64.tar.gz"
      sha256 "47a02880705a6d0ad792f9a26e2f3c5796a5ddc42a43c136fb144ced9506eb1c"

      def install
        bin.install "aws-oidc"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/chanzuckerberg/aws-oidc/releases/download/v0.28.19/aws-oidc_0.28.19_linux_arm64.tar.gz"
      sha256 "dbd5afed510664b51d1744e8a4f5a7f15d28e2bbb5cbf9ccdcffa1037ef80cfc"

      def install
        bin.install "aws-oidc"
      end
    end
  end

  test do
    system "#{bin}/aws-oidc version"
  end
end
