# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class AwsOidc < Formula
  desc "A command line utility tool to help generate AWS STS credentials from an OIDC application."
  homepage "https://github.com/chanzuckerberg/aws-oidc"
  version "0.28.16"

  on_macos do
    if Hardware::CPU.arm?
      url "https://github.com/chanzuckerberg/aws-oidc/releases/download/v0.28.16/aws-oidc_0.28.16_darwin_arm64.tar.gz"
      sha256 "befc79c6218af74d98f3fbfb8b01842d12cd719e8b07fdaddc0b984c6590a770"

      def install
        bin.install "aws-oidc"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/chanzuckerberg/aws-oidc/releases/download/v0.28.16/aws-oidc_0.28.16_darwin_amd64.tar.gz"
      sha256 "4b4f5d294f332e574572c2a6e9ae9fe89fc473b5e0dd37f67928e27aac2d9272"

      def install
        bin.install "aws-oidc"
      end
    end
  end

  on_linux do
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/chanzuckerberg/aws-oidc/releases/download/v0.28.16/aws-oidc_0.28.16_linux_arm64.tar.gz"
      sha256 "2e0dd8afea1fe7e27cc9d697e0eb56c157b6f818749b48f24f0a793ff3501791"

      def install
        bin.install "aws-oidc"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/chanzuckerberg/aws-oidc/releases/download/v0.28.16/aws-oidc_0.28.16_linux_amd64.tar.gz"
      sha256 "efad202f0c32f93bb1f16dce806da7602c52ce975f556bd5b723ae08a6f73529"

      def install
        bin.install "aws-oidc"
      end
    end
  end

  test do
    system "#{bin}/aws-oidc version"
  end
end
